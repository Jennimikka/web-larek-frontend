# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание интерфейсов
1. IWebProduct - описывает интерфейс карточки продукта
2. IOrderResult  - описывает ответ сервера на успешный заказюСодержит свойства:
* id: string;
* total: number; 
3. IFormState - описывает интерфейс валидации формы. Содержит свойства:
 * valid: boolean; (валидность формы)
 * errors: string[]; (блок с ошибками)
4. IOrder - описывает интерфейс формы заказа. Содержит свойства:
* payment: PaymentMethod;
* email: string;
* phone: string;
* address: string;
* total: number;
items: string[]
5. IOrderAddress - описывает интерфейс формы оплаты и доставки. Содержит метод оплаты и адрес в типе строка.
6. IContactsOrder - описывает интерфейс формы контактов. Содержит адрес и телефон в типе строка.
7. IAppStateModel описывает интерфейс состояния приложения. Содержит свойства:
 * catalog: IProductItem[];
 * basket: string[]; 
 * order: IOrder | null;  
8. IBasketCard - описывает интерфейс карточки в корзине. Содержит название товара и стоимость.
9. ICardActions - 
10. IOrderResult - Описывает интерфейс результата заказа.


## Описание базовых классов, их предназначение и функции
1. Класс Api - осуществляет работу с сервером, отправляет запросы методами get и post для получаения и отправки данных
2. Абстрактный Kлacc Component - базовый класс компонента. Методы: toggleClass (Переключает класс),setDisabled (меняет статус блокировки),  render (возвращает корневой DOM-элемент)     
3. Класс EventEmitter: обеспечивает работу событий. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события».

### методы класса: 
* on - Устанавливает обработчик на событие
* off - Снимает обработчик на событие
* emit - Инициировует событие с данными 
* onAll - Устанавливает слушатель на все события
* offAll - Сбрасывает подписки на все события 


### слой Model:
Класс AppStateModel - наследует Model<IAppStateModel>. Содержит методы для отправки в корзину, удаления из корзины, очистки корзины, валидации формы, проверки заполнения полей.
Абстрактный класс Model - Абстрактный базовый класс для создания объекта хранения данных


### слой View:
1. Класс Page: отрисовывает главную страницу. Имеет методы: 
* set counter (показывает сколько товаров в корзине)    
* set catalog(items: HTMLElement[]) (передает в каталог массив карточек)
* set locked(value: boolean) (устанавливает класс блокировки прокрутки страницы при открытии модального окна) 

2. Класс Card: отображает данные о товаре и устанавливает основные свойства карточки товара:
    * title: название 
    * image: изображение
    * description?: 
    * button?: кнопка убрать/купить
    * price: цена
    * category: категория товара    

3. Класс Basket: класс представления корзины приложения.Устанавливает такие её свойства:
* list - список элементов в корзине
* total - общую стоимость товаров
* button - кнопку перехода на следующую стадию - оформление заказа 
4. Класс BasketCard: содержит представление карточки товара в корзине.
##### устанавливает свойства:
    * index: номер продукта в корзине 
    * title: название товара
    * button: кнопку удаления
    * price: стоимость
5. Класс Modal: содержит информацию отображения модального окна, включающую основной content и close__button (кнопку закрытия), имеет методы открытия и закрытия модального окна.
6. Класс Form: описывает базовую форму отправки данных. Позволяет установить кнопку со свойством submit и блок с отображением ошибок - errors.
7. Класс OrderAddress: наследуется от класса Form. Устанавливает следующие свойства:
* payment - способ оплаты
* address - адрес доставки
8. Класс ContactOrder: наследуется от класса Form. Устанавливает следующие свойства:
* email - почта для связи
* phone - телефон для связи
9. Класс Success - отображает основную информацию по завершенному заказу, содержит свойство total - общая сумма заказа - получаемое с сервера



### слой presenter:
index.ts - является главным файлом приложения, обеспечивая взаимодействие всех компонентов, методов между собой, 



## Класс LarekApi - обеспечивает работу с конкретными данными с сервера:
### методы класса LarekApi: 
1. getProductList: получает информацию по всем доступным товарам
2. getProductItem: получает информацию по конкретному товару
3. orderProduct: оформления заказа через соответствующий запрос на сервер


